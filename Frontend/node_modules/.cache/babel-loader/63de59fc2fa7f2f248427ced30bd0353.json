{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/home/user/project_managment/Frontend/src/components/EmployeeForm.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst EmpRegister = props => {\n  _s();\n\n  const [redirect, setRedirect] = React.useState(true);\n  const [name, setName] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [password_confirmation, setConfirmPassword] = React.useState(\"\");\n  const [managerId, setManagerId] = React.useState(sessionStorage.getItem(\"userId\"));\n  const role = sessionStorage.getItem(\"role\");\n\n  const handleSubmit = e => {\n    e.preventDefault();\n\n    if (role === \"admin\") {\n      axios.get(\"/sanctum/csrf-cookie\").then(response => {\n        axios.post(\"api/regEmp\", {\n          name: name,\n          email: email,\n          password: password,\n          password_confirmation: password_confirmation,\n          role: \"employee\",\n          manager_id: managerId\n        }).then(response => {\n          if (response.status === 201) {\n            setName(\"\");\n            setPassword(\"\");\n            setEmail(\"\");\n            setConfirmPassword(\"\");\n          }\n        }).catch(error => console.error(error));\n      });\n    } else {\n      console.log(redirect);\n      setRedirect(false);\n      console.log(redirect, \"after\");\n    }\n  };\n\n  if (role === \"admin\") {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Register\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            name: \"name\",\n            className: \"form-control\",\n            placeholder: \"Name\",\n            value: name,\n            onChange: e => setName(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"email\",\n            name: \"email\",\n            className: \"form-control\",\n            placeholder: \"Email\",\n            value: email,\n            onChange: e => setEmail(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password\",\n            className: \"form-control\",\n            placeholder: \"Password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            name: \"password_confirmation\",\n            className: \"form-control\",\n            placeholder: \"Password\",\n            value: password_confirmation,\n            onChange: e => setConfirmPassword(e.target.value),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-primary\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"YOU ARE NOT ALLOWED TO ENTER HERE\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 12\n    }, this);\n  }\n};\n\n_s(EmpRegister, \"IlG76N8HLre4VaP/JQr1axLzQbw=\");\n\n_c = EmpRegister;\nexport default EmpRegister;\n\nvar _c;\n\n$RefreshReg$(_c, \"EmpRegister\");","map":{"version":3,"sources":["/home/user/project_managment/Frontend/src/components/EmployeeForm.js"],"names":["React","Redirect","axios","EmpRegister","props","redirect","setRedirect","useState","name","setName","email","setEmail","password","setPassword","password_confirmation","setConfirmPassword","managerId","setManagerId","sessionStorage","getItem","role","handleSubmit","e","preventDefault","get","then","response","post","manager_id","status","catch","error","console","log","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\n\nconst EmpRegister = (props) => {\n  const [redirect, setRedirect] = React.useState(true);\n  const [name, setName] = React.useState(\"\");\n  const [email, setEmail] = React.useState(\"\");\n  const [password, setPassword] = React.useState(\"\");\n  const [password_confirmation, setConfirmPassword] = React.useState(\"\");\n  const [managerId, setManagerId] = React.useState(\n    sessionStorage.getItem(\"userId\")\n  );\n  const role = sessionStorage.getItem(\"role\");\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    if (role === \"admin\") {\n      axios.get(\"/sanctum/csrf-cookie\").then((response) => {\n        axios\n          .post(\"api/regEmp\", {\n            name: name,\n            email: email,\n            password: password,\n            password_confirmation: password_confirmation,\n            role: \"employee\",\n            manager_id: managerId,\n          })\n          .then((response) => {\n            if (response.status === 201) {\n              setName(\"\");\n              setPassword(\"\");\n              setEmail(\"\");\n              setConfirmPassword(\"\");\n            }\n          })\n          .catch((error) => console.error(error));\n      });\n    } else {\n      console.log(redirect);\n      setRedirect(false);\n      console.log(redirect, \"after\");\n    }\n  };\n\n  if (role === \"admin\") {\n    return (\n      <div>\n        <h3>Register</h3>\n        <form onSubmit={handleSubmit}>\n          <div className=\"form-group\">\n            <input\n              type=\"text\"\n              name=\"name\"\n              className={\"form-control\"} \n              placeholder=\"Name\"\n              value={name}\n              onChange={(e) => setName(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"email\"\n              name=\"email\"\n              className={\"form-control\"} \n              placeholder=\"Email\"\n              value={email}\n              onChange={(e) => setEmail(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"password\"\n              name=\"password\"\n              className={\"form-control\"}\n              placeholder=\"Password\"\n              value={password}\n              onChange={(e) => setPassword(e.target.value)}\n              required\n            />\n          </div>\n          <div className=\"form-group\">\n            <input\n              type=\"password\"\n              name=\"password_confirmation\"\n              className={\"form-control\"}\n              placeholder=\"Password\"\n              value={password_confirmation}\n              onChange={(e) => setConfirmPassword(e.target.value)}\n              required\n            />\n          </div>\n\n          <button type=\"submit\" className=\"btn btn-primary\">\n            Register\n          </button>\n        </form>\n      </div>\n    );\n  } else {\n    return <div>YOU ARE NOT ALLOWED TO ENTER HERE</div>;\n  }\n};\n\nexport default EmpRegister;\n"]},"metadata":{},"sourceType":"module"}